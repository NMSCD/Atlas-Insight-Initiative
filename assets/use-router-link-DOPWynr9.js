import{v as K}from"./vm-Cr4ZHExR.js";import{a,g as j}from"./index-Cd5ARfPI.js";function L(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function P(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function q(e,t){for(const r in t){const a=t[r],n=e[r];if("string"==typeof a){if(a!==n)return!1}else if(!1===Array.isArray(n)||n.length!==a.length||a.some(((e,t)=>e!==n[t])))return!1}return!0}function O(e,t){return!0===Array.isArray(t)?e.length===t.length&&e.every(((e,r)=>e===t[r])):1===e.length&&e[0]===t}function B(e,t){return!0===Array.isArray(e)?O(e,t):!0===Array.isArray(t)?O(t,e):e===t}function M(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!1===B(e[r],t[r]))return!1;return!0}const V={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},H={...V,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function T({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const r=j(),{props:n,proxy:l,emit:i}=r,u=K(r),o=a((()=>!0!==n.disable&&void 0!==n.href)),s=a(!0===t?()=>!0===u&&!0!==n.disable&&!0!==o.value&&void 0!==n.to&&null!==n.to&&""!==n.to:()=>!0===u&&!0!==o.value&&void 0!==n.to&&null!==n.to&&""!==n.to),c=a((()=>!0===s.value?m(n.to):null)),v=a((()=>null!==c.value)),f=a((()=>!0===o.value||!0===v.value)),h=a((()=>"a"===n.type||!0===f.value?"a":n.tag||e||"div")),g=a((()=>!0===o.value?{href:n.href,target:n.target}:!0===v.value?{href:c.value.href,target:n.target}:{})),d=a((()=>{if(!1===v.value)return-1;const{matched:e}=c.value,{length:t}=e,r=e[t-1];if(void 0===r)return-1;const a=l.$route.matched;if(0===a.length)return-1;const n=a.findIndex(P.bind(null,r));if(-1!==n)return n;const i=L(e[t-2]);return t>1&&L(r)===i&&a[a.length-1].path!==i?a.findIndex(P.bind(null,e[t-2])):n})),p=a((()=>!0===v.value&&-1!==d.value&&q(l.$route.params,c.value.params))),k=a((()=>!0===p.value&&d.value===l.$route.matched.length-1&&M(l.$route.params,c.value.params))),y=a((()=>!0===v.value?!0===k.value?` ${n.exactActiveClass} ${n.activeClass}`:!0===n.exact?"":!0===p.value?` ${n.activeClass}`:"":""));function m(e){try{return l.$router.resolve(e)}catch{}return null}function b(e,{returnRouterError:t,to:r=n.to,replace:a=n.replace}={}){if(!0===n.disable)return e.preventDefault(),Promise.resolve(!1);if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||void 0!==e.button&&0!==e.button||"_blank"===n.target)return Promise.resolve(!1);e.preventDefault();const i=l.$router[!0===a?"replace":"push"](r);return!0===t?i:i.then((()=>{})).catch((()=>{}))}return{hasRouterLink:v,hasHrefLink:o,hasLink:f,linkTag:h,resolvedLink:c,linkIsActive:p,linkIsExactActive:k,linkClass:y,linkAttrs:g,getLink:m,navigateToRouterLink:b,navigateOnClick:function(e){if(!0===v.value){const t=t=>b(e,t);i("click",e,t),!0!==e.defaultPrevented&&t()}else i("click",e)}}}export{T as a,V as b,H as u};
