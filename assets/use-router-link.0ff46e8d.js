import{v as K}from"./vm.1d49fb8a.js";import{a,g as j}from"./index.c9242f2b.js";function L(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function P(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function q(e,t){for(const a in t){const r=t[a],n=e[a];if("string"==typeof r){if(r!==n)return!1}else if(!1===Array.isArray(n)||n.length!==r.length||r.some(((e,t)=>e!==n[t])))return!1}return!0}function O(e,t){return!0===Array.isArray(t)?e.length===t.length&&e.every(((e,a)=>e===t[a])):1===e.length&&e[0]===t}function B(e,t){return!0===Array.isArray(e)?O(e,t):!0===Array.isArray(t)?O(t,e):e===t}function M(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(!1===B(e[a],t[a]))return!1;return!0}const V={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},H={...V,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function T({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const r=j(),{props:n,proxy:l,emit:i}=r,u=K(r),o=a((()=>!0!==n.disable&&void 0!==n.href)),s=a(!0===t?()=>!0===u&&!0!==n.disable&&!0!==o.value&&void 0!==n.to&&null!==n.to&&""!==n.to:()=>!0===u&&!0!==o.value&&void 0!==n.to&&null!==n.to&&""!==n.to),c=a((()=>!0===s.value?b(n.to):null)),f=a((()=>null!==c.value)),v=a((()=>!0===o.value||!0===f.value)),h=a((()=>"a"===n.type||!0===v.value?"a":n.tag||e||"div")),g=a((()=>!0===o.value?{href:n.href,target:n.target}:!0===f.value?{href:c.value.href,target:n.target}:{})),d=a((()=>{if(!1===f.value)return-1;const{matched:e}=c.value,{length:t}=e,a=e[t-1];if(void 0===a)return-1;const r=l.$route.matched;if(0===r.length)return-1;const n=r.findIndex(P.bind(null,a));if(-1!==n)return n;const i=L(e[t-2]);return t>1&&L(a)===i&&r[r.length-1].path!==i?r.findIndex(P.bind(null,e[t-2])):n})),p=a((()=>!0===f.value&&-1!==d.value&&q(l.$route.params,c.value.params))),k=a((()=>!0===p.value&&d.value===l.$route.matched.length-1&&M(l.$route.params,c.value.params))),y=a((()=>!0===f.value?!0===k.value?` ${n.exactActiveClass} ${n.activeClass}`:!0===n.exact?"":!0===p.value?` ${n.activeClass}`:"":""));function b(e){try{return l.$router.resolve(e)}catch{}return null}function m(e,{returnRouterError:t,to:a=n.to,replace:r=n.replace}={}){if(!0===n.disable)return e.preventDefault(),Promise.resolve(!1);if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||void 0!==e.button&&0!==e.button||"_blank"===n.target)return Promise.resolve(!1);e.preventDefault();const i=l.$router[!0===r?"replace":"push"](a);return!0===t?i:i.then((()=>{})).catch((()=>{}))}return{hasRouterLink:f,hasHrefLink:o,hasLink:v,linkTag:h,resolvedLink:c,linkIsActive:p,linkIsExactActive:k,linkClass:y,linkAttrs:g,getLink:b,navigateToRouterLink:m,navigateOnClick:function(e){if(!0===f.value){const t=t=>m(e,t);i("click",e,t),!0!==e.defaultPrevented&&t()}else i("click",e)}}}export{T as a,H as b,V as u};
